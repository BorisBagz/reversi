EXE = reversi

CFLAGS = -std=c11 -Wall -Wextra -g #-O2
CPPFLAGS = -I ../include -DDEBUG
LDFLAGS =

.PHONY : all clean help

all: reversi

reversi: reversi.o board.o moves.o player.o
		$(CC) $(CFLAGS) -o $@ $^ $(LDFLAGS)

reversi.o: reversi.c reversi.h ../include/board.h ../include/player.h
		$(CC) $(CFLAGS) $(CPPFLAGS) -c $<

board.o: board.c ../include/board.h ../include/moves.h
		$(CC) $(CFLAGS) $(CPPFLAGS) -c $<

moves.o: moves.c ../include/moves.h
		$(CC) $(CFLAGS) $(CPPFLAGS) -c $<

player.o: player.c ../include/player.h ../include/board.h ../include/moves.h
		$(CC) $(CFLAGS) $(CPPFLAGS) -c $<

clean:
	@rm -f *~ *.o $(EXE) reversi

help:
	@echo "Usage:"
	@echo "  make [all]  Build the software."
	@echo "  make clean  Remove all files generated by make."
	@echo "  make help   Display this help."
